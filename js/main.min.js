"use strict";!function(){var e,t=document.querySelector(".header"),s=t.classList.contains("header--main"),i=t.querySelector(".header-top"),n=i.querySelector(".header-top__main-nav"),r=i.querySelector(".header-top__user-nav");s&&(i.classList.add("is-main"),n.classList.add("is-main")),window.addEventListener("scroll",function(){window.pageYOffset>=window.innerHeight?(t.hasAttribute("style")||(e=t.offsetHeight,t.style.minHeight=e+"px"),i.classList.add("is-sticky"),s&&(i.classList.remove("is-main"),n.classList.remove("is-main"))):(t.removeAttribute("style"),i.classList.remove("is-sticky"),s&&(i.classList.add("is-main"),n.classList.add("is-main")))});var a=i.querySelector(".header-top__form"),o=i.querySelector(".user-nav__item--search .user-nav__link"),l=i.querySelector(".header-top__gift-link"),c=i.querySelector(".search-form__close-search-btn");function d(e){var t,s,i,r=e.currentTarget;e.target===r.firstElementChild&&(e.preventDefault(),r.classList.contains("is-expanded")?(r.classList.remove("is-expanded"),t=n.querySelectorAll(".is-shaded"),Array.prototype.slice.call(t).forEach(function(e){e.classList.remove("is-shaded")})):((s=n.querySelector(".is-expanded"))&&s.classList.remove("is-expanded"),r.classList.add("is-expanded"),r.classList.remove("is-shaded"),i=n.querySelectorAll(".main-nav__item:not(is-shaded):not(.is-expanded)"),Array.prototype.slice.call(i).forEach(function(e){e.classList.add("is-shaded")})))}o.addEventListener("click",function(e){e.preventDefault(),a.classList.add("is-visible"),l.classList.add("is-not-visible")}),c.addEventListener("click",function(e){e.preventDefault(),a.classList.remove("is-visible"),l.classList.remove("is-not-visible")}),i.querySelector(".header-top__btn").addEventListener("click",function(){i.classList.add("is-open"),n.classList.add("is-open"),r.classList.add("is-open")}),n.querySelector(".main-nav__close-btn").addEventListener("click",function(){i.classList.remove("is-open"),n.classList.remove("is-open"),r.classList.remove("is-open")});var u=n.querySelectorAll(".main-nav__item");Array.prototype.slice.call(u).forEach(function(e){e.querySelector(".main-nav__sublist")&&e.addEventListener("click",d)})}(),function(){function e(e,t){return document.querySelector(e)&&new window.Swiper(e,t)}e(".slider .swiper-container",{slidesPerView:4,slidesPerGroup:4,spaceBetween:31,loop:!0,breakpoints:{992:{slidesPerView:2,slidesPerGroup:2},768:{slidesPerView:"auto",slidesPerGroup:1,loopedSlides:3,spaceBetween:30,centeredSlides:!0}},navigation:{nextEl:".slider__arrow--next",prevEl:".slider__arrow--prev"}}),e(".promo__slider .swiper-container",{slidesPerView:1,slidesPerGroup:1,spaceBetween:0,loop:!0,centeredSlides:!0,pagination:{el:".swiper-pagination"}}),e(".categories__slider .swiper-container",{slidesPerView:4,slidesPerGroup:4,spaceBetween:31,loop:!0,breakpoints:{992:{slidesPerView:2,slidesPerGroup:2},768:{slidesPerView:"auto",slidesPerGroup:1,loopedSlides:3,spaceBetween:30,centeredSlides:!0}},navigation:{nextEl:".slider__arrow--next",prevEl:".slider__arrow--prev"}})}(),function(){var e=document.querySelectorAll(".field-num");e.length&&Array.prototype.forEach.call(e,function(e){var s=e.querySelector("input"),i=s.getAttribute("min")?+s.getAttribute("min"):-1/0,r=s.getAttribute("max")?+s.getAttribute("max"):1/0,n=s.getAttribute("step")?+s.getAttribute("step"):1;e.addEventListener("click",function(e){var t;e.target.classList.contains("field-num__btn")&&!s.getAttribute("disabled")&&(t=parseInt(s.value),isNaN(t)&&(t=0),e.target.classList.contains("field-num__btn--plus")&&t<r&&(s.value=t+n),e.target.classList.contains("field-num__btn--minus")&&i<t&&(s.value=t-n))})})}(),function(){var e=window.IMask,t=document.getElementById("phone");t&&e(t,{mask:"+{7} (000) 000-00-00"})}(),function(){var e=document.querySelector(".cart__list");if(e)for(var t=e.children,s=0;s<t.length;s++)!function(e){e.querySelector(".cart__close").addEventListener("click",function(){e.classList.add("is-hidden")})}(t[s])}(),function(){var e,t,s,i,r,n=document.querySelector(".cart__list").children.querySelector(".cart__btn-open"),a=document.querySelector(".popup-favourites"),o=document.querySelector(".overlay"),l=document.querySelector("body");a&&(e=a.querySelector(".popup-favourites__close"),t=function(){a.classList.remove("is-open-popup"),o.classList.remove("is-open-popup"),l.classList.remove("no-scroll"),o.removeEventListener("click",t)},r=s=function(){t(),document.removeEventListener("keydown",i)},i=function(e){27===e.keyCode&&r()},n.addEventListener("click",function(e){e.preventDefault(),a.classList.add("is-open-popup"),o.classList.add("s-open-popup"),l.classList.add("no-scroll"),o.addEventListener("click",t),document.addEventListener("keydown",i)}),e.addEventListener("click",s))}();